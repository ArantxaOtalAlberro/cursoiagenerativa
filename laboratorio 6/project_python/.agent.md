Objetivo
-------
Leer números desde `data/sample_data.txt` y, para cada número, calcular su factorial y su valor de Fibonacci.

Alcance
------
- No se escribirá código en este archivo; es una especificación/plan para el agente.
- El agente usará los archivos del proyecto: `main.py`, `utils.py`, `math_ops.py` y `data/sample_data.txt`.

Plan paso a paso
----------------
1. Confirmar formato de datos
   - Archivo: `data/sample_data.txt`
   - Acción: verificar que cada línea contiene un número entero válido (o documentar el formato esperado).

2. Añadir/ajustar lector de datos
   - Archivo: `utils.py`
   - Acción: implementar (o adaptar) una función para leer números desde `data/sample_data.txt` y devolverlos como lista de enteros.
   - Resultado esperado: función robusta a líneas vacías y valores no numéricos (los ignora o informa según política).

3. Asegurar funciones matemáticas
   - Archivo: `math_ops.py`
   - Acción: garantizar que `factorial(n)` valide entrada (n >= 0) y que `fibonacci(n)` sea eficiente (evitar recursión exponencial; usar iterativo o memoización).
   - Resultado esperado: funciones que manejan entradas razonables sin bloquear o estallar por recursión profunda.

4. Orquestación en el programa principal
   - Archivo: `main.py`
   - Acción: leer la lista de números con la función de `utils.py`, iterar y para cada número imprimir/registrar factorial y Fibonacci, con manejo de excepciones y mensajes amigables.

5. Pruebas y documentación
   - Archivos: `test_*` (nuevo), `README.md` (actualizar)
   - Acción: añadir pruebas unitarias mínimas (p. ej. factorial(0), factorial(5), fibonacci(0), fibonacci(10)) y documentación de ejecución.

Orden recomendado
-----------------
1. Revisar `data/sample_data.txt`
2. Modificar `utils.py`
3. Modificar `math_ops.py`
4. Modificar `main.py`
5. Añadir pruebas y actualizar `README.md`

Riesgos y mitigaciones
----------------------
- Formato de entrada inválido: el archivo puede contener líneas no numéricas o vacías.
  - Mitigación: validar y saltar líneas inválidas; registrar advertencia o fallar con mensaje claro.
- Números grandes: factorial crece muy rápido y puede causar overflow o tiempos de cómputo excesivos.
  - Mitigación: limitar n máximo razonable (documentarlo) o usar big integers con cuidado y avisar al usuario.
- Fibonacci recursivo lento: implementación recursiva simple causa tiempo exponencial para n >= ~40.
  - Mitigación: usar versión iterativa o memoización (`lru_cache`) y test de rendimiento en valores grandes.
- Archivo faltante o permisos: `data/sample_data.txt` puede no existir o no ser accesible.
  - Mitigación: comprobar existencia y permisos antes de leer; emitir error claro si no se puede acceder.
- Errores de codificación/locale: separadores decimales o codificación de archivo pueden afectar la lectura.
  - Mitigación: documentar el formato esperado (enteros por línea, UTF-8) y forzar encoding al abrir.

Entregables esperados
--------------------
- `utils.py` actualizado con lector de números
- `math_ops.py` con `factorial` y `fibonacci` seguros/eficientes
- `main.py` que orchestrates lectura y cálculo
- Tests básicos y `README.md` actualizado

Fin del agente (.agent.md)


